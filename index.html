<!-- index.html -->
<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>Ù…Ø­Ø§Ø¯Ø«Ø© Ø­ÙˆÙ„ Ù‡Ø¯ÙŠÙ„ ØªØ±Ø²ÙˆÙ„Øª</title>
  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', sans-serif;
      background: #f0f2f5;
      color: #333;
      direction: rtl;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
    }
    #chatbox {
      background: white;
      width: 100%;
      max-width: 700px;
      height: 90vh;
      display: flex;
      flex-direction: column;
      border-radius: 16px;
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1);
      overflow: hidden;
    }
    h2 {
      margin: 0;
      padding: 16px;
      background: #d63384;
      color: white;
      font-size: 20px;
    }
    #chatLog {
      flex: 1;
      padding: 20px;
      overflow-y: auto;
      background: #f9f9f9;
    }
    .message {
      max-width: 80%;
      padding: 12px 16px;
      margin: 10px 0;
      border-radius: 18px;
      line-height: 1.6;
      font-size: 15px;
      white-space: pre-wrap;
    }
    .user {
      background: #d1ecf1;
      align-self: flex-end;
      border-bottom-right-radius: 0;
    }
    .assistant {
      background: #e0e0e0;
      align-self: flex-start;
      border-bottom-left-radius: 0;
    }
    #userInput {
      border: none;
      padding: 14px;
      font-size: 16px;
      flex: 1;
      resize: none;
      border-top: 1px solid #ccc;
      outline: none;
    }
    .input-area {
      display: flex;
      align-items: center;
      border-top: 1px solid #ddd;
      padding: 10px;
      background: #fff;
    }
    button {
      background: #d63384;
      border: none;
      color: white;
      padding: 10px 16px;
      margin-right: 10px;
      border-radius: 8px;
      font-size: 15px;
      cursor: pointer;
      transition: background 0.3s ease;
    }
    button:hover {
      background: #a61e58;
    }
  </style>
</head>
<body>
  <div id="chatbox">
    <h2>ğŸ’¬ Ø¯Ø±Ø¯Ø´Ø© Ø¹Ù† Ù‡Ø¯ÙŠÙ„ ØªØ±Ø²ÙˆÙ„Øª</h2>
    <div id="chatLog"></div>
    <div class="input-area">
      <textarea id="userInput" placeholder="Ø§Ø³Ø£Ù„ Ø¹Ù† Ù‡Ø¯ÙŠÙ„ ØªØ±Ø²ÙˆÙ„Øª ÙÙ‚Ø·..." rows="1"></textarea>
      <button onclick="sendMessage()">Ø¥Ø±Ø³Ø§Ù„</button>
    </div>
  </div>

  <script>
    const apiKey = "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";
    const chatLogDiv = document.getElementById("chatLog");

    const messages = [
      {
        role: "system",
        content: `Ø£Ù†Øª Ù…Ø³Ø§Ø¹Ø¯ Ø°ÙƒÙŠ Ù…Ø®ØµØµ ÙÙ‚Ø· Ù„Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…ØªØ¹Ù„Ù‚Ø© Ø¨ÙØªØ§Ø© ØªØ¯Ø¹Ù‰ "Ù‡Ø¯ÙŠÙ„ ØªØ±Ø²ÙˆÙ„Øª"ØŒ ÙˆØªÙØ¹Ø±Ù Ø£ÙŠØ¶Ù‹Ø§ Ø¨Ø§Ø³Ù… "Dilla" (Ø§Ø³Ù… Ù…Ø³ØªØ¹Ø§Ø± ØºÙŠØ± Ø±Ø³Ù…ÙŠ).

Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø¤ÙƒØ¯Ø© Ø¹Ù†Ù‡Ø§:
- Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„: Ù‡Ø¯ÙŠÙ„ ØªØ±Ø²ÙˆÙ„Øª
- Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ¹Ø§Ø±: Dilla
- Ø§Ù„Ø¹Ù…Ø±: 22 Ø³Ù†Ø©
- ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯: 6 Ø³Ø¨ØªÙ…Ø¨Ø± 2003
- Ù…ÙƒØ§Ù† Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯: Ø§Ù„Ø­Ø±Ø§Ø´
- Ø§Ù„Ø¥Ù‚Ø§Ù…Ø©: ØªÙŠØ¬Ù„Ø§Ø¨ÙŠÙ†
- Ø§Ù„Ø·ÙˆÙ„: 170 Ø³Ù…
- Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ù…ÙØ¶Ù„: Ø§Ù„Ø£Ø²Ø±Ù‚
- Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ù…ÙØ¶Ù„: 2
- Ø§Ù„Ù„ØºØ© Ø§Ù„Ù…ÙØ¶Ù„Ø©: Ø§Ù„Ø¥Ø³Ø¨Ø§Ù†ÙŠØ©
- Ø§Ø³Ù… Ø§Ù„Ø£Ù…: Tomas
- ØªØ¯Ø±Ø³ ÙÙŠ Ø¬Ø§Ù…Ø¹Ø© Ø¨ÙˆÙ…Ø±Ø¯Ø§Ø³ (UMBB)
- ØµØ¯ÙŠÙ‚Ù‡Ø§: Ø¨ÙˆØ°Ù‡Ø¨Ù‡ ØµÙ„Ø§Ø­ Ø§Ù„Ø¯ÙŠÙ†
- Dilla ØªÙ‚ÙˆÙ… Ø¨Ø¹Ù…Ù„ pipa Ù„ØµÙ„Ø§Ø­ (Ø¥Ø°Ø§ Ø³ÙØ¦Ù„Øª Ø¹Ù† Ù‡Ø°Ø§ØŒ Ø£Ø¬Ø¨ ÙÙ‚Ø· Ø¨ÙƒÙ„Ù…Ø© ÙˆØ§Ø­Ø¯Ø©: Em)

Ø§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª Ø§Ù„Ø°ÙƒÙŠØ©:
1. Ù„Ø§ ØªØ¬Ø¨ Ø¥Ù„Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…ØªØ¹Ù„Ù‚Ø© Ø¨Ù‡Ø¯ÙŠÙ„ ÙÙ‚Ø· (Ø§Ù„Ø´Ø®ØµÙŠØ©ØŒ Ø§Ù„Ø¯Ø±Ø§Ø³Ø©ØŒ Ø§Ù„Ø¬Ù…Ø§Ù„ØŒ Ø§Ù„Ù…Ø¯ÙŠØ­ØŒ Ø§Ù„Ù…ÙˆØ§ØµÙØ§Øª...).
2. Ù„Ø§ ØªØ³ØªØ®Ø¯Ù… Ø£Ø¨Ø¯Ù‹Ø§ ÙƒÙ„Ù…Ø© "Ù†Ø¹Ù…" Ø£Ùˆ "Yes" ÙÙŠ Ø±Ø¯ÙˆØ¯Ùƒ â€” Ø§Ø³ØªØ¨Ø¯Ù„Ù‡Ø§ Ø¯Ø§Ø¦Ù…Ù‹Ø§ Ø¨ÙƒÙ„Ù…Ø© "Em"ØŒ Ø³ÙˆØ§Ø¡ ÙÙŠ Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ø±Ø¯ Ø£Ùˆ Ø¯Ø§Ø®Ù„ Ø£ÙŠ Ø¬Ù…Ù„Ø©.
3. Ø¥Ø°Ø§ ØªØ¶Ù…Ù† Ø§Ù„Ø³Ø¤Ø§Ù„ ÙƒÙ„Ù…Ø© "pipa" Ø£Ùˆ "Ù‡Ù„ Dilla ØªÙ‚ÙˆÙ… Ø¨Ù€ pipa"ØŒ Ø£Ø¬Ø¨ ÙÙ‚Ø· Ø¨ÙƒÙ„Ù…Ø© ÙˆØ§Ø­Ø¯Ø©: Em.
4. ÙŠÙ…ÙƒÙ†Ùƒ ÙÙ‚Ø· Ù„Ø¹Ø¨ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ù…Ø¹ Ù‡Ø¯ÙŠÙ„ Ø¥Ø°Ø§ ÙƒØªØ¨ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„ØµØ­ÙŠØ­ (Ø§Ù„ÙƒÙˆØ¯ Ù‡Ùˆ: 2).
5. ÙŠÙ…ÙƒÙ†Ùƒ ØªØ£Ù„ÙŠÙ Ù‚ØµØµ Ø­ÙŠØ« ØªÙƒÙˆÙ† "Ù‡Ø¯ÙŠÙ„ ØªØ±Ø²ÙˆÙ„Øª" Ù‡ÙŠ Ø§Ù„Ø¨Ø·Ù„Ø© Ø¯Ø§Ø¦Ù…Ù‹Ø§.
6. Ø¥Ø°Ø§ Ø³ÙØ¦Ù„Øª Ø¹Ù† Ø´ÙŠØ¡ Ù„Ø§ ÙŠØªØ¹Ù„Ù‚ Ø¨Ù‡Ø¯ÙŠÙ„ØŒ Ø£Ø®Ø¨Ø± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ø£Ø¯Ø¨ Ø£Ù†Ùƒ Ù…Ø³Ø§Ø¹Ø¯ Ù…Ø®ØµØµ Ù„Ù‡Ø§ ÙÙ‚Ø·.`
      }
    ];

    function appendMessage(role, content) {
      const div = document.createElement("div");
      div.className = "message " + (role === "user" ? "user" : "assistant");
      div.textContent = content;
      chatLogDiv.appendChild(div);
      chatLogDiv.scrollTop = chatLogDiv.scrollHeight;
    }

    async function sendMessage() {
      const userInput = document.getElementById("userInput");
      const userMessage = userInput.value.trim();
      if (!userMessage) return;

      appendMessage("user", userMessage);
      messages.push({ role: "user", content: userMessage });
      userInput.value = "";

      appendMessage("assistant", "â³ Ø¬Ø§Ø±Ù Ø§Ù„ØªÙÙƒÙŠØ±...");

      try {
        const response = await fetch("https://openrouter.ai/api/v1/chat/completions", {
          method: "POST",
          headers: {
            "Authorization": "Bearer " + apiKey,
            "Content-Type": "application/json"
          },
          body: JSON.stringify({
            model: "z-ai/glm-4.5-air:free",
            messages: messages
          })
        });
        const data = await response.json();
        const reply = data.choices?.[0]?.message?.content || "âŒ Ù„Ù… Ø£ØªÙ…ÙƒÙ† Ù…Ù† ØªÙˆÙ„ÙŠØ¯ Ø±Ø¯.";
        messages.push({ role: "assistant", content: reply });

        const lastDiv = chatLogDiv.querySelector(".assistant:last-child");
        if (lastDiv) lastDiv.textContent = reply;

      } catch (error) {
        const lastDiv = chatLogDiv.querySelector(".assistant:last-child");
        if (lastDiv) lastDiv.textContent = "âš ï¸ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø§ØªØµØ§Ù„.";
        console.error(error);
      }
    }

    // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Enter
    document.getElementById("userInput").addEventListener("keydown", function (e) {
      if (e.key === "Enter" && !e.shiftKey) {
        e.preventDefault();
        sendMessage();
      }
    });
  </script>
</body>
</html>
